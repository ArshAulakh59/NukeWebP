@testable import NukeWebP
import XCTest
import NukeWebPBasic
import Nuke

final class NukeWebPTests: XCTestCase {
//    
//    class TestImage: UIImageView {
//        override var image: UIImage? {
//            get { return nil }
//            set { //nothing }
//            }
//        }
//    }
    
    func testExample() throws {
//        let testImage = TestImage(frame: .zero)
//
//        let basic = BasicWebPDecoder()
//        WebPImageDecoder.enable(auto: basic)
//        let url = "https://leonardo.edadeal.io/dyn/re/catalyst/covers/djrzrkbzgrgdh466q6orvbepr4.jpg?ex=edadeal-leonardo&res=l"
//        //"https://s3.mds.yandex.net/edadeal-public-static/makleso/big.webp"
//        var urlRequest = URLRequest(url: URL(string: url)!)
//        urlRequest.setValue("image/webp,image/*,*/*;q=0.8", forHTTPHeaderField: "Accept")
//
//        let exp = expectation(description: "load")
//
//
//        Nuke.loadImage(with: urlRequest, into: testImage, progress: { response, completed, total in
//            print("completed", completed)
//            print("total", total)
//        }, completion: { result in
//            exp.fulfill()
//            print(result)
//        })
//
//
//        wait(for: [exp], timeout: 30)

    }
}
